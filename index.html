<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musik Analyzer - BPM und Key Detektor</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <div class="title-section">
            <h1>Musik Analyzer</h1>
            <p class="subtitle">Analysiere BPM und Key deiner Songs</p>
        </div>

        <div class="card">
            <div class="card-body">
                <div id="dropArea" class="upload-area">
                    <i class="fa-solid fa-music upload-icon"></i>
                    <h3>Ziehe deinen Song hierher</h3>
                    <p>oder</p>
                    <input type="file" id="fileInput" accept="audio/*" style="display: none;">
                    <button class="btn" id="browseBtn">
                        <i class="fa-solid fa-folder-open btn-icon"></i>
                        Datei auswählen
                    </button>
                    <p class="file-info" id="fileInfo">Keine Datei ausgewählt</p>
                </div>
                
                <div class="progress-container" id="progressContainer">
                    <div class="analyzing-text">
                        <span id="analyzeStepText">Initialisiere Analyse...</span>
                    </div>
                    <div class="progress-wrapper">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="progress-status">
                        <span>0%</span>
                        <span id="progressPercentage">0%</span>
                    </div>
                </div>
                
                <div class="audio-controls" id="audioControls">
                    <div class="audio-player-container">
                        <div class="custom-audio-player">
                            <div class="audio-info">
                                <div class="track-name" id="trackName">Keine Datei ausgewählt</div>
                                <div class="time-display">
                                    <span id="currentTime">0:00</span> / 
                                    <span id="totalTime">0:00</span>
                                </div>
                            </div>
                            
                            <div class="audio-controls-btns">
                                <div class="play-btn" id="playBtn">
                                    <i class="fa-solid fa-play play-icon"></i>
                                </div>
                                <div class="pause-btn" id="pauseBtn">
                                    <i class="fa-solid fa-pause pause-icon"></i>
                                </div>
                            </div>
                            
                            <div class="seek-bar" id="seekBar">
                                <div class="seek-bar-bg">
                                    <div class="seek-bar-progress" id="seekProgress"></div>
                                </div>
                                <div class="seek-bar-handle" id="seekHandle"></div>
                            </div>
                            
                            <audio id="audioPlayer" style="display:none;"></audio>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="results" id="results">
            <div class="results-header">
                <h2 class="results-title">Analyse Ergebnisse</h2>
                <p>Diese Ergebnisse basieren auf der Analyse deines Tracks</p>
            </div>
            
            <div class="results-grid">
                <div class="result-card">
                    <i class="fa-solid fa-file-audio result-icon"></i>
                    <div class="result-label">Dateiname</div>
                    <div class="result-value" id="fileName">-</div>
                    <div class="result-desc">Name der analysierten Audiodatei</div>
                </div>
                
                <div class="result-card">
                    <i class="fa-solid fa-gauge-high result-icon"></i>
                    <div class="result-label">BPM (Tempo)</div>
                    <div class="result-value" id="bpmResult">-</div>
                    <div class="result-desc">Beats Pro Minute</div>
                </div>
                
                <div class="result-card">
                    <i class="fa-solid fa-music result-icon"></i>
                    <div class="result-label">Key (Tonart)</div>
                    <div class="result-value" id="keyResult">-</div>
                    <div class="result-desc">Ermittelte Tonart des Songs</div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>© 2025 Musik Analyzer</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>