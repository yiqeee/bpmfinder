<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeatKey Analyzer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>BeatKey Analyzer</h1>
            <p>Analysiere BPM und Tonart deiner Musik</p>
        </header>

        <main>
            <div class="upload-box">
                <div id="drop-zone">
                    <i class="fa-solid fa-music icon-music"></i>
                    <h3>Ziehe deinen Song hierher</h3>
                    <p>oder</p>
                    <input type="file" id="file-input" accept="audio/*" hidden>
                    <button id="file-button" class="button">Datei auswählen</button>
                    <p id="file-name" class="file-name">Keine Datei ausgewählt</p>
                </div>
            </div>

            <div id="loader" class="loader-container">
                <div class="loader-text">
                    <span id="analyze-status">Starte Analyse...</span>
                </div>
                <div class="loader-bar-container">
                    <div id="loader-bar" class="loader-bar"></div>
                </div>
                <p class="loader-percentage"><span id="loader-percentage">0</span>%</p>
            </div>

            <div id="player-container" class="player-container">
                <div class="player-info">
                    <span id="track-title" class="track-title">Titel</span>
                    <div class="time">
                        <span id="current-time">0:00</span> / 
                        <span id="total-time">0:00</span>
                    </div>
                </div>
                
                <div class="player-controls">
                    <button id="play-button" class="play-button">
                        <i class="fa-solid fa-play"></i>
                    </button>
                    <button id="pause-button" class="pause-button hidden">
                        <i class="fa-solid fa-pause"></i>
                    </button>
                </div>
                
                <div id="seekbar" class="seekbar">
                    <div class="seekbar-bg">
                        <div id="seekbar-fill" class="seekbar-fill"></div>
                    </div>
                    <div id="seekbar-thumb" class="seekbar-thumb"></div>
                </div>
                
                <audio id="audio" hidden></audio>
            </div>

            <div id="results" class="results">
                <h2>Analyse Ergebnisse</h2>
                
                <div class="result-cards">
                    <div class="result-card">
                        <div class="result-icon">
                            <i class="fa-solid fa-gauge-high"></i>
                        </div>
                        <p class="result-label">Tempo (BPM)</p>
                        <h3 id="result-bpm" class="result-value">-</h3>
                        <p class="result-desc">Beats pro Minute</p>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-icon">
                            <i class="fa-solid fa-music"></i>
                        </div>
                        <p class="result-label">Tonart (Key)</p>
                        <h3 id="result-key" class="result-value">-</h3>
                        <p class="result-desc">Harmonische Grundlage</p>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>© 2025 BeatKey Analyzer</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aubiojs/0.2.1/aubio.min.js"></script>
    <script src="app.js"></script>
</body>
</html>